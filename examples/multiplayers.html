<!DOCTYPE html>
<html>
<head>
	<title>Multiplayers | NESCntlr</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-size: 16px;
      font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
    }

    h1,
    h2 {
      font: normal;
      margin: 20px;
    }

    table {
      display: inline-block;
      vertical-align: middle;
      margin: 0 20px;
      border-collapse: collapse;
    }

    .legend {
      border: solid 1px #d4d3d4;
    }

    .legend tr {
      border-top: solid 1px #d4d3d4;
    }

    .legend tr:nth-child(odd) {
      background: #f1f1f1;
    }

    .legend td,
    .legend th {
      font-weight: normal;
      padding: 2px 5px;
      text-align: left;
    }

    .legend td {
      font-size: .85rem;
    }

    .legend th,
    .legend td:empty {
      border-left: solid 1px #d4d3d4;
    }

    kbd {
      background-color: #eee;
      border-radius: 3px;
      border: 1px solid #b4b4b4;
      box-shadow: 0 1px 1px rgba(0, 0, 0, .2), 0 2px 0 0 rgba(255, 255, 255, .7) inset;
      color: #333;
      display: inline-block;
      font-size: 1rem;
      font-weight: 500;
      line-height: 1;
      padding: 2px 4px;
      min-width: 16px;
      text-align: center;
      white-space: nowrap;
      text-transform: uppercase;
    }
  </style>
</head>
<body>
  <h1>Multiplayers</h1>
  <form name="demo">
    <h2>Player 1</h2>
    <table>
      <tr>
        <th colspan="3">D-pad</th>
        <th>Btns</th>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="player1-up-left">↖<br>
          <input type="checkbox" name="player1-left">←<br>
          <input type="checkbox" name="player1-down-left">↙
        </td>
        <td align="center">
          ↑<br>
          <input type="checkbox" name="player1-up"><br>
          <input type="checkbox" name="player1-down"><br>
          ↓
        </td>
        <td>
          ↗<input type="checkbox" name="player1-up-right"><br>
          →<input type="checkbox" name="player1-right"><br>
          ↘<input type="checkbox" name="player1-down-right">
        </td>
        <td>
          <input type="checkbox" name="player1-b">B<br>
          <input type="checkbox" name="player1-a">A<br>
          <input type="checkbox" name="player1-select">Select<br>
          <input type="checkbox" name="player1-start">Start
        </td>
      </tr>
    </table>

    <table class="legend">
      <tr>
        <th>↖</th>
        <td><kbd>↑</kbd> + <kbd>←</kbd></td>
        <th>↑</th>
        <td><kbd>↑</kbd></td>
        <th>↗</th>
        <td><kbd>↑</kbd> + <kbd>→</kbd></td>
      </tr>
      <tr>
        <th>←</th>
        <td><kbd>←</kbd></td>
        <td colspan="2"></td>
        <th>→</th>
        <td><kbd>→</kbd></td>
      </tr>
      <tr>
        <th>↙</th>
        <td><kbd>↓</kbd> + <kbd>←</kbd></td>
        <th>↓</th>
        <td><kbd>↓</kbd></td>
        <th>↘</th>
        <td><kbd>↓</kbd> + <kbd>→</kbd></td>
      </tr>
      <tr>
        <th>B</th>
        <td><kbd>z</kbd></td>
        <th colspan="2">Select</th>
        <td colspan="2"><kbd>—</kbd></td>
      </tr>
      <tr>
        <th>A</th>
        <td><kbd>x</kbd></td>
        <th colspan="2">Start</th>
        <td colspan="2"><kbd>↵</kbd></td>
      </tr>
    </table>

    <h2>Player 2</h2>
    <table>
      <tr>
        <th colspan="3">D-pad</th>
        <th>Btns</th>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="player2-up-left">↖<br>
          <input type="checkbox" name="player2-left">←<br>
          <input type="checkbox" name="player2-down-left">↙
        </td>
        <td align="center">
          ↑<br>
          <input type="checkbox" name="player2-up"><br>
          <input type="checkbox" name="player2-down"><br>
          ↓
        </td>
        <td>
          ↗<input type="checkbox" name="player2-up-right"><br>
          →<input type="checkbox" name="player2-right"><br>
          ↘<input type="checkbox" name="player2-down-right">
        </td>
        <td>
          <input type="checkbox" name="player2-b">B<br>
          <input type="checkbox" name="player2-a">A<br>
          <input type="checkbox" name="player2-select">Select<br>
          <input type="checkbox" name="player2-start">Start
        </td>
      </tr>
    </table>

    <table class="legend">
      <tr>
        <th>↖</th>
        <td><kbd>w</kbd> + <kbd>a</kbd></td>
        <th>↑</th>
        <td><kbd>w</kbd></td>
        <th>↗</th>
        <td><kbd>w</kbd> + <kbd>d</kbd></td>
      </tr>
      <tr>
        <th>←</th>
        <td><kbd>a</kbd></td>
        <td colspan="2"></td>
        <th>→</th>
        <td><kbd>d</kbd></td>
      </tr>
      <tr>
        <th>↙</th>
        <td><kbd>s</kbd> + <kbd>a</kbd></td>
        <th>↓</th>
        <td><kbd>s</kbd></td>
        <th>↘</th>
        <td><kbd>s</kbd> + <kbd>d</kbd></td>
      </tr>
      <tr>
        <th>B</th>
        <td><kbd>f</kbd></td>
        <th colspan="2">Select</th>
        <td colspan="2"><kbd>1</kbd></td>
      </tr>
      <tr>
        <th>A</th>
        <td><kbd>g</kbd></td>
        <th colspan="2">Start</th>
        <td colspan="2"><kbd>2</kbd></td>
      </tr>
    </table>
  </form>
</body>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script>
   window.jQuery || document.write('<script src="./lib/jquery-3.3.1.min.js"><\/script>');
</script>
<script src="../dist/nes-cntlr.js"></script>
<script>
  let player1 = new NESCntlr();
  let player2 = new NESCntlr({
    prefix: 'player2',
    keys: { select: 49, start: 50, left: 65, up: 87, right: 68, down: 83, b: 70, a: 71}
  });
  player1.init();
  player2.init();

  $(function() {
    $(document).on('player1:up-left player1:up player1:up-right player1:right player1:left player1:down-left player1:down player1:down-right player1:b player1:a player1:select player1:start', e => document.demo[`player1-${e.detail.btn}`].checked = e.detail.pressed);
    $(document).on('player2:up-left player2:up player2:up-right player2:right player2:left player2:down-left player2:down player2:down-right player2:b player2:a player2:select player2:start', e => document.demo[`player2-${e.detail.btn}`].checked = e.detail.pressed);
  });
</script>
</html>
